{% extends "layout.html" %}

{% block title %}Credentials - Vultrino{% endblock %}
{% block nav_credentials %}active{% endblock %}
{% block page_title %}Credentials{% endblock %}

{% block page_actions %}
<a href="/credentials/new" class="btn btn-primary">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <line x1="12" y1="5" x2="12" y2="19"></line>
        <line x1="5" y1="12" x2="19" y2="12"></line>
    </svg>
    Add Credential
</a>
{% endblock %}

{% block flash_message %}
{% if let Some(f) = flash %}
<div class="flash {{ f.kind.as_class() }}">
    {{ f.message }}
</div>
{% endif %}
{% endblock %}

{% block content %}
{% if credentials.is_empty() %}
<div class="empty-state">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
        <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
    </svg>
    <h3>No credentials yet</h3>
    <p>Add your first credential to get started with Vultrino.</p>
    <a href="/credentials/new" class="btn btn-primary">Add Credential</a>
</div>
{% else %}
<div class="table-container">
    <table class="data-table">
        <thead>
            <tr>
                <th>Alias</th>
                <th>Type</th>
                <th>Description</th>
                <th>Created</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            {% for cred in credentials %}
            <tr>
                <td>
                    <div class="cell-primary">{{ cred.alias }}</div>
                    <div class="cell-secondary">{{ cred.id }}</div>
                </td>
                <td>
                    <span class="badge badge-{{ cred.credential_type }}">{{ cred.credential_type }}</span>
                </td>
                <td>{{ cred.description }}</td>
                <td>{{ cred.created_at }}</td>
                <td class="cell-actions">
                    <form action="/credentials/{{ cred.id }}/delete" method="post" class="inline-form"
                          onsubmit="return confirm('Are you sure you want to delete this credential?')">
                        <button type="submit" class="btn-icon btn-danger" title="Delete">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="3 6 5 6 21 6"></polyline>
                                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                            </svg>
                        </button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endif %}
{% endblock %}
